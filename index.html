<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Sello PRO ‚Äî Journey Coordinador + CRM v2</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=DM+Sans:ital,opsz,wght@0,9..40,300;0,9..40,500;0,9..40,700;1,9..40,400&family=Playfair+Display:wght@600;700&display=swap');
  * { margin: 0; padding: 0; box-sizing: border-box; }
  body { font-family: 'DM Sans', sans-serif; background: #FAFDF7; color: #1B4332; min-height: 100vh; }

  .header { background: linear-gradient(135deg, #1B4332 0%, #2D6A4F 50%, #40916C 100%); padding: 36px 32px 24px; color: white; }
  .header-inner { max-width: 1200px; margin: 0 auto; }
  .header-tag { font-size: 11px; letter-spacing: 3px; text-transform: uppercase; opacity: 0.65; margin-bottom: 10px; }
  .header h1 { font-family: 'Playfair Display', serif; font-size: 28px; font-weight: 700; letter-spacing: -0.5px; }
  .header p { margin-top: 8px; font-size: 14px; opacity: 0.85; max-width: 750px; line-height: 1.6; }
  .version-badge { display: inline-block; margin-top: 10px; background: rgba(255,255,255,0.15); padding: 4px 12px; border-radius: 12px; font-size: 11px; }

  .tabs-bar { background: #1B4332; display: flex; gap: 0; max-width: 1200px; margin: 0 auto; padding: 0 24px; overflow-x: auto; }
  .tab-btn { padding: 13px 18px; background: transparent; color: rgba(255,255,255,0.65); border: none; border-radius: 10px 10px 0 0; cursor: pointer; font-size: 12px; font-weight: 400; font-family: 'DM Sans', sans-serif; transition: all 0.2s; white-space: nowrap; }
  .tab-btn.active { background: #FAFDF7; color: #1B4332; font-weight: 700; }

  .content { max-width: 1200px; margin: 0 auto; padding: 24px; }
  .tab-panel { display: none; }
  .tab-panel.active { display: block; }

  .timeline-wrap { position: relative; margin-bottom: 28px; }
  .timeline-line { position: absolute; top: 28px; left: 20px; right: 20px; height: 3px; background: linear-gradient(90deg, #1B4332, #52B788, #1B4332); border-radius: 2px; z-index: 0; }
  .timeline { display: flex; justify-content: space-between; position: relative; z-index: 1; overflow-x: auto; padding-bottom: 10px; gap: 2px; }
  .phase-dot { display: flex; flex-direction: column; align-items: center; cursor: pointer; min-width: 72px; flex: 1; transition: transform 0.2s; }
  .phase-dot:hover { transform: scale(1.08); }
  .phase-dot.selected { transform: scale(1.08); }
  .dot-circle { width: 52px; height: 52px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 22px; border: 3px solid; transition: all 0.3s; }
  .dot-label { font-size: 9px; font-weight: 600; text-align: center; margin-top: 6px; max-width: 80px; line-height: 1.3; }
  .dot-status { font-size: 8px; padding: 2px 6px; border-radius: 8px; margin-top: 3px; font-weight: 500; }
  .dot-status.pre { color: #B85042; background: #FDECEA; }
  .dot-status.en { color: #2D6A4F; background: #D8F3DC; }

  .detail-panel { background: white; border-radius: 14px; overflow: hidden; box-shadow: 0 4px 24px rgba(27,67,50,0.1); border: 2px solid; animation: fadeUp 0.3s ease; }
  @keyframes fadeUp { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
  .detail-header { color: white; padding: 16px 24px; display: flex; align-items: center; gap: 14; }
  .detail-header span.icon { font-size: 30px; }
  .detail-header h2 { font-family: 'Playfair Display', serif; font-size: 20px; }
  .detail-header p { margin-top: 3px; opacity: 0.85; font-size: 12px; }
  .detail-grid { display: grid; grid-template-columns: 1fr 1fr; }
  .detail-left { padding: 20px; border-right: 1px solid #E8F5E9; }
  .detail-right { padding: 20px; }
  .detail-section-title { margin-bottom: 10px; font-size: 13px; font-weight: 700; display: flex; align-items: center; gap: 6; }
  .action-item { display: flex; gap: 8; margin-bottom: 7px; font-size: 12px; line-height: 1.5; color: #2D3748; }
  .action-bullet { font-weight: 700; flex-shrink: 0; font-size: 10px; margin-top: 3px; }
  .integration-note { margin-top: 12px; padding: 8px 12px; background: #FFF3E0; border-radius: 8px; font-size: 11px; color: #E65100; }
  .design-note { margin-top: 12px; padding: 8px 12px; background: #E8EAF6; border-radius: 8px; font-size: 11px; color: #283593; }
  .crm-tags { display: flex; flex-wrap: wrap; gap: 5px; margin-bottom: 16px; }
  .crm-tag { padding: 3px 10px; border-radius: 14px; font-size: 10px; font-weight: 600; }
  .platform-link { background: #F0FFF4; border-radius: 8px; padding: 12px; font-size: 11px; color: #2D6A4F; border: 1px dashed #74C69D; line-height: 1.6; }
  .empty-hint { text-align: center; padding: 40px; color: #74C69D; font-size: 14px; }

  .crm-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 14px; }
  .crm-card { background: white; border-radius: 12px; padding: 18px; border: 1px solid #D8F3DC; box-shadow: 0 2px 8px rgba(27,67,50,0.06); }
  .crm-card-head { display: flex; align-items: center; gap: 10; margin-bottom: 10px; }
  .crm-card-head span.ic { font-size: 26px; }
  .crm-card-head h3 { font-size: 15px; color: #1B4332; }
  .crm-card-head p { margin-top: 2px; font-size: 11px; color: #718096; }
  .crm-col-tags { display: flex; flex-wrap: wrap; gap: 4px; }
  .crm-col-tag { background: #F0FFF4; color: #2D6A4F; padding: 3px 8px; border-radius: 6px; font-size: 10px; font-weight: 600; border: 1px solid #B7E4C7; }

  .flow-bar { margin-top: 20px; background: white; border-radius: 12px; padding: 22px; border: 1px solid #D8F3DC; }
  .flow-bar h3 { margin-bottom: 14px; font-size: 15px; color: #1B4332; }
  .flow-steps { display: flex; align-items: center; justify-content: center; gap: 6px; flex-wrap: wrap; }
  .flow-step { padding: 5px 11px; border-radius: 8px; font-size: 10px; font-weight: 600; white-space: nowrap; border: 1px solid; }
  .flow-arrow { font-size: 16px; color: #718096; }

  .intro-text { font-size: 13px; color: #4A5568; margin-bottom: 22px; line-height: 1.6; }
  .integration-grid { display: grid; grid-template-columns: 1fr 2.2fr 1fr; gap: 14px; align-items: start; }
  .mod-box { border-radius: 12px; padding: 18px; border: 2px solid; }
  .mod-box h3 { margin-bottom: 10px; font-size: 14px; }
  .mod-item { display: flex; gap: 6px; margin-bottom: 4px; font-size: 11px; line-height: 1.6; }
  .mod-badge { margin-top: 10px; padding: 5px 10px; border-radius: 6px; font-size: 10px; font-weight: 600; }
  .clara-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 6px; }
  .clara-card { background: white; border-radius: 8px; padding: 7px 10px; border: 1px solid #C8E6C9; }
  .clara-card .title { font-size: 11px; font-weight: 700; color: #1B5E20; }
  .clara-card .desc { font-size: 9px; color: #4CAF50; margin-top: 2px; }
  .clara-note { margin-top: 10px; padding: 5px 10px; background: #C8E6C9; border-radius: 6px; font-size: 9px; color: #1B5E20; font-weight: 600; text-align: center; }
  .integrations-box { margin-top: 20px; background: white; border-radius: 12px; padding: 20px; border: 1px solid #D8F3DC; }
  .integrations-box h3 { margin-bottom: 14px; font-size: 15px; color: #1B4332; }
  .int-grid { display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 10px; }
  .int-card { padding: 12px; background: #F0FFF4; border-radius: 8px; border: 1px solid #D8F3DC; }
  .int-card .ic { font-size: 22px; margin-bottom: 5px; }
  .int-card .ttl { font-size: 11px; font-weight: 700; color: #1B4332; margin-bottom: 3px; }
  .int-card .dsc { font-size: 10px; color: #4A5568; line-height: 1.5; }

  /* Lifecycle tab */
  .lifecycle-box { background: white; border-radius: 12px; padding: 24px; border: 1px solid #D8F3DC; margin-bottom: 16px; }
  .lifecycle-box h3 { font-size: 16px; color: #1B4332; margin-bottom: 14px; }
  .state-cards { display: grid; grid-template-columns: repeat(4, 1fr); gap: 12px; margin-bottom: 20px; }
  .state-card { border-radius: 10px; padding: 16px; text-align: center; border: 2px solid; }
  .state-card .emoji { font-size: 32px; margin-bottom: 6px; }
  .state-card .name { font-size: 14px; font-weight: 700; }
  .state-card .desc { font-size: 10px; margin-top: 4px; line-height: 1.4; }
  .lifecycle-timeline { display: flex; align-items: center; justify-content: center; gap: 4px; flex-wrap: wrap; padding: 12px 0; }
  .lt-step { padding: 6px 10px; border-radius: 8px; font-size: 10px; font-weight: 600; border: 1px solid; }

  /* Admin phase */
  .admin-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 10px; margin-top: 10px; }
  .admin-card { background: #FFFDE7; border: 1px solid #FFE082; border-radius: 8px; padding: 10px; }
  .admin-card .doc-title { font-size: 12px; font-weight: 700; color: #F57F17; margin-bottom: 6px; }
  .admin-card .doc-fields { font-size: 10px; color: #5D4037; line-height: 1.5; }

  @media (max-width: 900px) {
    .detail-grid { grid-template-columns: 1fr; }
    .detail-left { border-right: none; border-bottom: 1px solid #E8F5E9; }
    .crm-grid, .state-cards { grid-template-columns: 1fr 1fr; }
    .integration-grid { grid-template-columns: 1fr; }
    .int-grid { grid-template-columns: 1fr 1fr; }
    .admin-grid { grid-template-columns: 1fr 1fr; }
    .phase-dot { min-width: 62px; }
    .dot-circle { width: 44px; height: 44px; font-size: 18px; }
  }
  @media (max-width: 600px) {
    .crm-grid, .state-cards, .int-grid, .admin-grid { grid-template-columns: 1fr; }
  }
</style>
</head>
<body>

<div class="header">
  <div class="header-inner">
    <div class="header-tag">Sello PRO ¬∑ CChC ¬∑ Plataforma Digital</div>
    <h1>Journey Map del Coordinador + CRM Interno</h1>
    <p>Flujo completo desde la captaci√≥n comercial hasta el cierre de certificaci√≥n y ciclo de renovaciones, integrado con los m√≥dulos "CLARA" (Empresa) y "NORMAN" (Verificaci√≥n/Auditor√≠a).</p>
    <span class="version-badge">v3.1 ‚Äî Incluye Familias de Criterios (58 criterios / 4 √°mbitos) + 12 tipos de cuestionario + API para proyectos internos CChC</span>
  </div>
</div>

<div class="tabs-bar">
  <button class="tab-btn active" data-tab="journey">üó∫Ô∏è Journey Coordinador</button>
  <button class="tab-btn" data-tab="crm">üíº Vistas CRM</button>
  <button class="tab-btn" data-tab="integration">üîó Integraci√≥n</button>
  <button class="tab-btn" data-tab="lifecycle">üîÑ Ciclo de Vida</button>
</div>

<div class="content">

  <!-- JOURNEY TAB -->
  <div id="tab-journey" class="tab-panel active">
    <div class="timeline-wrap">
      <div class="timeline-line"></div>
      <div class="timeline" id="timeline"></div>
    </div>
    <div id="detail-container">
      <div class="empty-hint">‚òùÔ∏è Haz clic en una etapa del timeline para ver el detalle</div>
    </div>
  </div>

  <!-- CRM TAB -->
  <div id="tab-crm" class="tab-panel">
    <p class="intro-text">El CRM interno es la capa de gesti√≥n del coordinador CChC. Se alimenta de los m√≥dulos de Empresa y Verificaci√≥n, y agrega la gesti√≥n comercial + administrativa pre-plataforma. <strong>Bitbang</strong> tiene un perfil diferenciado con acceso a monitoreo de tiempos y env√≠o de recordatorios.</p>
    <div class="crm-grid" id="crm-grid"></div>
    <div class="flow-bar">
      <h3>üîÑ Flujo CRM ‚Üí Plataforma ‚Üí CRM</h3>
      <div class="flow-steps" id="flow-steps"></div>
    </div>
  </div>

  <!-- INTEGRATION TAB -->
  <div id="tab-integration" class="tab-panel">
    <p class="intro-text">Conexi√≥n entre el CRM del coordinador y los m√≥dulos existentes: Empresa ("CLARA") y Verificaci√≥n/Auditor√≠a ("NORMAN"). Bitbang opera como representante de CChC con perfil y permisos diferenciados.</p>
    <div class="integration-grid">
      <div class="mod-box" style="background:#FFF8E1;border-color:#FFB74D;">
        <h3 style="color:#E65100;">üíº CRM Coordinador</h3>
        <div id="crm-items"></div>
        <div class="mod-badge" style="background:#FFF3E0;color:#BF360C;">Solo CChC (admin)</div>
      </div>
      <div class="mod-box" style="background:#E8F5E9;border-color:#4CAF50;">
        <h3 style="color:#1B5E20;">üè¢ M√≥dulo Empresa ‚Äî "CLARA"</h3>
        <p style="margin-bottom:10px;font-size:10px;color:#2E7D32;">Vista compartida: Empresa + Asesor (Nexos) + CChC + Bitbang (solo avance)</p>
        <div class="clara-grid" id="clara-grid"></div>
        <div class="clara-note">(*) Criterios n/a: 1-5 estrellas + "n/a" con justificaci√≥n ¬∑ Seguimientos como registros individuales</div>
      </div>
      <div class="mod-box" style="background:#E3F2FD;border-color:#1976D2;">
        <h3 style="color:#0D47A1;">‚úÖ M√≥dulo Verificaci√≥n ‚Äî "NORMAN"</h3>
        <div id="norman-items"></div>
        <div class="mod-badge" style="background:#BBDEFB;color:#0D47A1;">CChC + Asesores + Consultor externo</div>
      </div>
    </div>
    <div class="integrations-box">
      <h3>üß¨ Familias de Criterios (Estructura del Est√°ndar)</h3>
      <p style="font-size:12px;color:#4A5568;line-height:1.7;margin-bottom:14px;">Los cuestionarios comparten una estructura com√∫n. Esto es clave para el modelo de datos:</p>
      <div style="display:grid;grid-template-columns:repeat(4,1fr);gap:10px;margin-bottom:14px;">
        <div style="text-align:center;padding:14px;background:#E8F5E9;border-radius:10px;border:1px solid #A5D6A7;">
          <div style="font-size:28px;font-weight:700;color:#1B4332;">~58</div>
          <div style="font-size:10px;color:#2D6A4F;font-weight:600;">Criterios √∫nicos</div>
        </div>
        <div style="text-align:center;padding:14px;background:#E8F5E9;border-radius:10px;border:1px solid #A5D6A7;">
          <div style="font-size:28px;font-weight:700;color:#1B4332;">4</div>
          <div style="font-size:10px;color:#2D6A4F;font-weight:600;">√Åmbitos / Pilares</div>
        </div>
        <div style="text-align:center;padding:14px;background:#E8F5E9;border-radius:10px;border:1px solid #A5D6A7;">
          <div style="font-size:28px;font-weight:700;color:#1B4332;">12</div>
          <div style="font-size:10px;color:#2D6A4F;font-weight:600;">Tipos de cuestionario</div>
        </div>
        <div style="text-align:center;padding:14px;background:#E8F5E9;border-radius:10px;border:1px solid #A5D6A7;">
          <div style="font-size:28px;font-weight:700;color:#1B4332;">1-5 ‚≠ê</div>
          <div style="font-size:10px;color:#2D6A4F;font-weight:600;">Niveles por criterio</div>
        </div>
      </div>
      <div style="display:grid;grid-template-columns:1fr 1fr;gap:12px;">
        <div style="background:#F0FFF4;border:1px solid #C8E6C9;border-radius:8px;padding:12px;">
          <div style="font-size:12px;font-weight:700;color:#1B5E20;margin-bottom:6px;">‚úÖ Lo que VAR√çA entre tipos de empresa:</div>
          <div style="font-size:11px;color:#2E7D32;line-height:1.6;">‚Ä¢ Descripci√≥n espec√≠fica del criterio (adaptada al rubro/tama√±o)<br>‚Ä¢ Exigencias por nivel de estrella (1 a 5)<br>‚Ä¢ Aplicabilidad (un criterio puede no aplicar a ciertos tipos)</div>
        </div>
        <div style="background:#F0FFF4;border:1px solid #C8E6C9;border-radius:8px;padding:12px;">
          <div style="font-size:12px;font-weight:700;color:#1B5E20;margin-bottom:6px;">üîí Lo que NO var√≠a:</div>
          <div style="font-size:11px;color:#2E7D32;line-height:1.6;">‚Ä¢ El concepto de evaluaci√≥n subyacente (la "familia")<br>‚Ä¢ La agrupaci√≥n por √°mbitos/pilares<br>‚Ä¢ La escala 1-5 estrellas + n/a</div>
        </div>
      </div>
      <div style="margin-top:12px;padding:10px;background:#FFF3E0;border-radius:8px;border:1px solid #FFCC80;">
        <div style="font-size:11px;color:#E65100;line-height:1.6;">‚ö†Ô∏è <strong>Implicancia para desarrollo:</strong> La BD debe modelar criterio base (familia) con variantes por tipo de empresa. Los 12 cuestionarios se generan desde la misma estructura, NO son formularios independientes. Modificar exigencias de un tipo NO debe afectar a los dem√°s.</div>
      </div>
    </div>

    <div class="integrations-box">
      <h3>üîå Proyectos Futuros de Integraci√≥n v√≠a API</h3>
      <p style="font-size:12px;color:#4A5568;line-height:1.6;margin-bottom:12px;">La CChC tiene proyectos internos que consumir√°n datos de esta plataforma (read-only). La API debe exponerlos sin depender del proveedor.</p>
      <div style="display:grid;grid-template-columns:1fr 1fr;gap:8px;">
        <div style="padding:10px;background:#E3F2FD;border-radius:8px;border:1px solid #90CAF9;">
          <div style="font-size:11px;font-weight:700;color:#0D47A1;">üìä Dashboards estrat√©gicos CChC</div>
          <div style="font-size:10px;color:#1565C0;margin-top:3px;">Empresas certificadas y sus estados</div>
        </div>
        <div style="padding:10px;background:#E3F2FD;border-radius:8px;border:1px solid #90CAF9;">
          <div style="font-size:11px;font-weight:700;color:#0D47A1;">üìà Benchmarking sectorial</div>
          <div style="font-size:10px;color:#1565C0;margin-top:3px;">Resultados por criterio y empresa</div>
        </div>
        <div style="padding:10px;background:#E3F2FD;border-radius:8px;border:1px solid #90CAF9;">
          <div style="font-size:11px;font-weight:700;color:#0D47A1;">üìö Estudios longitudinales</div>
          <div style="font-size:10px;color:#1565C0;margin-top:3px;">Hist√≥rico de certificaciones y auditor√≠as</div>
        </div>
        <div style="padding:10px;background:#E3F2FD;border-radius:8px;border:1px solid #90CAF9;">
          <div style="font-size:11px;font-weight:700;color:#0D47A1;">üîó Taxonom√≠as y est√°ndares</div>
          <div style="font-size:10px;color:#1565C0;margin-top:3px;">Cat√°logo de criterios, familias y √°mbitos</div>
        </div>
      </div>
      <div style="margin-top:8px;font-size:10px;color:#718096;">Auth: API key / token de servicio configurable por CChC ¬∑ Documentaci√≥n: OpenAPI/Swagger</div>
    </div>

    <div class="integrations-box">
      <h3>‚ö° Integraciones Clave</h3>
      <div class="int-grid" id="int-grid"></div>
    </div>
  </div>

  <!-- LIFECYCLE TAB -->
  <div id="tab-lifecycle" class="tab-panel">
    <p class="intro-text">El Sello PRO tiene un ciclo de vida de 3 a√±os: implementaci√≥n (~10 meses) ‚Üí Verificaci√≥n 0 ‚Üí Sello ‚Üí Auditor√≠as anuales ‚Üí Renovaci√≥n (cada 2 a√±os). La plataforma debe soportar los 4 estados macro y la gesti√≥n de renovaciones.</p>

    <div class="lifecycle-box">
      <h3>üìä Los 4 Estados Macro</h3>
      <div class="state-cards" id="state-cards"></div>
    </div>

    <div class="lifecycle-box">
      <h3>üóìÔ∏è Timeline del Ciclo de Vida (3 a√±os)</h3>
      <div class="lifecycle-timeline" id="lifecycle-tl"></div>
    </div>

    <div class="lifecycle-box">
      <h3>üîÅ Flujo de Estados Detallado</h3>
      <div class="lifecycle-timeline" id="state-flow"></div>
    </div>

    <div class="lifecycle-box">
      <h3>üì¶ Migraci√≥n de Datos Hist√≥ricos</h3>
      <p style="font-size:12px;color:#4A5568;line-height:1.6;">+350 empresas hist√≥ricas deben migrarse al sistema. Datos origen en hojas de c√°lculo y documentos. Las empresas hist√≥ricas aparecer√°n como "LOGRADO" o "RENOVACI√ìN" seg√∫n corresponda. El proveedor debe incluir este esfuerzo en su propuesta.</p>
    </div>

    <div class="lifecycle-box">
      <h3>‚öôÔ∏è Escalabilidad</h3>
      <div style="display:grid;grid-template-columns:repeat(4,1fr);gap:10px;">
        <div style="text-align:center;padding:12px;background:#F0FFF4;border-radius:8px;">
          <div style="font-size:24px;font-weight:700;color:#1B4332;">5-6</div>
          <div style="font-size:10px;color:#4A5568;">Asesores simult√°neos</div>
        </div>
        <div style="text-align:center;padding:12px;background:#F0FFF4;border-radius:8px;">
          <div style="font-size:24px;font-weight:700;color:#1B4332;">3-4</div>
          <div style="font-size:10px;color:#4A5568;">Equipo CChC</div>
        </div>
        <div style="text-align:center;padding:12px;background:#F0FFF4;border-radius:8px;">
          <div style="font-size:24px;font-weight:700;color:#1B4332;">10-15</div>
          <div style="font-size:10px;color:#4A5568;">Empresas activas</div>
        </div>
        <div style="text-align:center;padding:12px;background:#F0FFF4;border-radius:8px;">
          <div style="font-size:24px;font-weight:700;color:#2D6A4F;">~25</div>
          <div style="font-size:10px;color:#4A5568;">Total concurrentes</div>
        </div>
      </div>
    </div>

    <div class="lifecycle-box">
      <h3>üñ•Ô∏è Ambientes y Compatibilidad</h3>
      <div style="display:grid;grid-template-columns:1fr 1fr;gap:14px;">
        <div>
          <div style="font-size:12px;font-weight:700;color:#1B4332;margin-bottom:8px;">Ambientes requeridos</div>
          <div style="display:flex;gap:8px;">
            <div style="flex:1;text-align:center;padding:10px;background:#FFF3E0;border-radius:8px;border:1px solid #FFCC80;">
              <div style="font-size:18px;">üîß</div>
              <div style="font-size:11px;font-weight:700;color:#E65100;">Desarrollo</div>
              <div style="font-size:9px;color:#BF360C;">Solo equipo dev</div>
            </div>
            <div style="flex:1;text-align:center;padding:10px;background:#E3F2FD;border-radius:8px;border:1px solid #90CAF9;">
              <div style="font-size:18px;">üß™</div>
              <div style="font-size:11px;font-weight:700;color:#1565C0;">Staging / QA</div>
              <div style="font-size:9px;color:#0D47A1;">Pruebas CChC</div>
            </div>
            <div style="flex:1;text-align:center;padding:10px;background:#E8F5E9;border-radius:8px;border:1px solid #A5D6A7;">
              <div style="font-size:18px;">üöÄ</div>
              <div style="font-size:11px;font-weight:700;color:#2E7D32;">Producci√≥n</div>
              <div style="font-size:9px;color:#1B5E20;">Usuarios reales</div>
            </div>
          </div>
          <div style="margin-top:6px;font-size:9px;color:#C62828;background:#FDECEA;padding:4px 8px;border-radius:4px;">‚ö†Ô∏è Datos de producci√≥n NUNCA en dev/staging sin anonimizar</div>
        </div>
        <div>
          <div style="font-size:12px;font-weight:700;color:#1B4332;margin-bottom:8px;">Compatibilidad</div>
          <div style="font-size:11px;color:#4A5568;line-height:1.8;">
            üåê <strong>Idioma:</strong> Espa√±ol (Chile)<br>
            üñ•Ô∏è <strong>Navegadores:</strong> Chrome, Edge, Firefox, Safari (√∫ltimas 2 versiones)<br>
            üì± <strong>Responsive:</strong> Desktop (1024px+) y Tablet (768px+). M√≥vil deseable, no cr√≠tico.<br>
            üìê <strong>Resoluci√≥n m√≠n:</strong> 1024 √ó 768 px
          </div>
        </div>
      </div>
    </div>

    <div class="lifecycle-box">
      <h3>üõ°Ô∏è Continuidad Operativa</h3>
      <div style="display:grid;grid-template-columns:repeat(3,1fr);gap:10px;">
        <div style="text-align:center;padding:14px;background:#E3F2FD;border-radius:8px;border:1px solid #90CAF9;">
          <div style="font-size:11px;color:#718096;">Disponibilidad</div>
          <div style="font-size:22px;font-weight:700;color:#1565C0;">99.5%</div>
          <div style="font-size:9px;color:#718096;">mensual</div>
        </div>
        <div style="text-align:center;padding:14px;background:#FFF3E0;border-radius:8px;border:1px solid #FFCC80;">
          <div style="font-size:11px;color:#718096;">RPO</div>
          <div style="font-size:22px;font-weight:700;color:#E65100;">&lt; 24h</div>
          <div style="font-size:9px;color:#718096;">recovery point</div>
        </div>
        <div style="text-align:center;padding:14px;background:#FDECEA;border-radius:8px;border:1px solid #EF9A9A;">
          <div style="font-size:11px;color:#718096;">RTO</div>
          <div style="font-size:22px;font-weight:700;color:#C62828;">&lt; 4h</div>
          <div style="font-size:9px;color:#718096;">recovery time</div>
        </div>
      </div>
      <div style="margin-top:10px;font-size:11px;color:#4A5568;line-height:1.6;">Backups diarios cifrados (30 d√≠as retenci√≥n) ¬∑ Redundancia en BD y almacenamiento ¬∑ Exportaci√≥n masiva disponible si se cambia de proveedor (SQL dump + archivos por empresa)</div>
    </div>
  </div>

</div>

<script>
const phases = [
  {
    id:"captacion", label:"Captaci√≥n", icon:"üéØ", color:"#1B4332", light:"#D8F3DC",
    description:"Gesti√≥n comercial, seguimiento y cierre de venta",
    actions:[
      "Identificar empresas potenciales (socios CChC, eventos, referidos, sedes regionales)",
      "Registrar lead en CRM: RUT, contacto, rubro, tama√±o (Grande/Pyme)",
      "Clasificar empresa (6 rubros √ó 2 tama√±os = 12 tipos)",
      "Primera llamada/reuni√≥n de presentaci√≥n del programa",
      "Enviar material informativo (beneficios, costos, proceso 10 meses)",
      "Seguimiento sistem√°tico al lead: llamadas, mails, reuniones",
      "Resolver dudas sobre costos ($2M-$4M CLP seg√∫n facturaci√≥n)",
      "Gestionar co-financiamiento si aplica",
      "Registrar fecha √∫ltimo contacto (campo obligatorio)",
      "Registrar notas de cada conversaci√≥n y nivel de inter√©s"
    ],
    crm:["Estado lead","Fuente captaci√≥n","Fecha primer/√∫ltimo contacto","Tipo empresa","Tama√±o","Responsable CChC","Nivel inter√©s","Co-financiamiento"],
    link:"No hay conexi√≥n directa a√∫n. Al cerrar venta ‚Üí trigger para Fase 2 (Gesti√≥n Administrativa)", status:"pre",
    designNote:"Esta fase incluye toda la conversaci√≥n comercial como un flujo continuo, no etapas separadas."
  },
  {
    id:"admin", label:"Gesti√≥n Admin.", icon:"üìë", color:"#5D4037", light:"#EFEBE9",
    description:"Contratos, OC, Factura y Pago",
    actions:[
      "Generar y enviar contrato a la empresa",
      "Recibir y registrar Orden de Compra (OC)",
      "Emitir factura seg√∫n OC",
      "Registrar pago recibido",
      "Cada documento tiene su propio estado independiente",
      "Alertas cuando un documento lleva m√°s de X d√≠as en 'pendiente'"
    ],
    crm:["Contrato (estado/fecha/archivo)","OC (estado/n√∫mero/monto)","Factura (estado/n√∫mero/monto)","Pago (estado/fecha/comprobante)"],
    link:"Al marcar pago_estado = completo ‚Üí trigger para crear perfil en plataforma (Fase 3)", status:"pre",
    designNote:"M√≥dulo de seguimiento administrativo independiente. Cada documento se actualiza por separado. Vista tabla/Kanban con filtros por estado.",
    adminDocs: [
      {title:"Contrato", fields:"pendiente ‚Üí enviado ‚Üí firmado ‚Üí rechazado"},
      {title:"Orden de Compra", fields:"pendiente ‚Üí recibida ‚Üí rechazada"},
      {title:"Factura", fields:"pendiente ‚Üí emitida ‚Üí pagada ‚Üí anulada"},
      {title:"Pago", fields:"pendiente ‚Üí parcial ‚Üí completo"}
    ]
  },
  {
    id:"onboarding", label:"Onboarding", icon:"üìã", color:"#40916C", light:"#95D5B2",
    description:"Alta en plataforma y asignaci√≥n de asesor",
    actions:[
      "Crear perfil de empresa: RUT, contacto, sede CChC, comit√© principal, rubro, tama√±o",
      "Seleccionar cuestionario correcto (12 tipos seg√∫n rubro/tama√±o ‚Äî basados en Familias de Criterios)",
      "Asignar asesor (Nexos) seg√∫n disponibilidad y zona geogr√°fica",
      "Cargar documentos base: Manual Sello PRO, Manual verificadores, Herramientas por pilares",
      "Notificar a Bitbang para coordinar Kickoff",
      "Verificar acceso de la empresa a la plataforma"
    ],
    crm:["Asesor asignado","Cuestionario seleccionado","Sede CChC","Comit√©","Fecha alta","Credenciales enviadas"],
    link:"Se crea perfil en M√≥dulo Empresa ('CLARA'). Se activa timeline de etapas. Empresa ve bienvenida.", status:"en"
  },
  {
    id:"kickoff", label:"Kickoff", icon:"üöÄ", color:"#52B788", light:"#74C69D",
    description:"Reuni√≥n inicial ‚Äî CChC NO participa",
    actions:[
      "‚ö†Ô∏è CChC NO participa en el Kickoff ‚Äî es responsabilidad de Nexos + Bitbang",
      "Bitbang agenda reuni√≥n consultando agenda de Nexos",
      "Bitbang llama a la empresa para coordinar fecha",
      "Nexos realiza el Kickoff: presenta proceso, expectativas, cronograma",
      "Nexos marca etapa como 'Realizada' en plataforma",
      "CChC solo supervisa desde el CRM que se haya realizado"
    ],
    crm:["Fecha kickoff","Asistentes","Estado etapa","Notas reuni√≥n"],
    link:"M√≥dulo Empresa ‚Üí Timeline check ‚úì en KICKOFF", status:"en",
    integration:"üìß Cita autom√°tica Outlook/Gmail + mail recordatorio"
  },
  {
    id:"autoevaluacion", label:"Autoevaluaci√≥n", icon:"üìù", color:"#74C69D", light:"#B7E4C7",
    description:"Empresa responde cuestionario ‚Äî Bitbang monitorea tiempos",
    actions:[
      "‚ö†Ô∏è Bitbang monitorea que la empresa conteste a tiempo (actuando a nombre de CChC)",
      "Bitbang env√≠a recordatorios si hay atraso",
      "Bitbang escala a CChC si empresa no responde tras m√∫ltiples intentos",
      "CChC supervisa avance general desde el CRM",
      "CChC verifica que el cuestionario asignado sea correcto",
      "Plataforma marca autom√°ticamente como 'Realizada' al completarse 100%"
    ],
    crm:["Fecha inicio","Fecha completada","% avance","Alertas de atraso"],
    link:"M√≥dulo Empresa ('CLARA') ‚Üí Formulario estrellas por criterio. Estructura de Familias: ~58 criterios en 4 √°mbitos, con variantes por tipo empresa. Asesor podr√° calibrar despu√©s.", status:"en"
  },
  {
    id:"terreno", label:"Visitas a Terreno", icon:"üèóÔ∏è", color:"#81C784", light:"#C8E6C9",
    description:"Visitas presenciales ‚Äî ETAPA SEPARADA del diagn√≥stico",
    actions:[
      "Nexos coordina visita a terreno directamente con la empresa",
      "Nexos realiza visita presencial",
      "Nexos sube fotos y registros de la visita",
      "Plataforma muestra terrenos: Proyecto, Direcci√≥n, Ciudad, Fecha",
      "Nexos marca etapa como 'Realizada'",
      "CChC monitorea que se realicen las visitas en tiempo"
    ],
    crm:["Terrenos agendados","Fotos subidas","Documentos terreno","Estado etapa"],
    link:"M√≥dulo Empresa ('CLARA') ‚Üí Visitas a Terreno + M√≥dulo 'NORMAN' (verificaci√≥n en terreno)", status:"en",
    integration:"üìß Mail recordatorio + üìÖ Cita Outlook/Gmail",
    designNote:"El terreno es una etapa SEPARADA del diagn√≥stico. Primero se observa, luego se diagnostica."
  },
  {
    id:"diagnostico", label:"Diagn√≥stico + Plan", icon:"üîç", color:"#66BB6A", light:"#A5D6A7",
    description:"Diagn√≥stico y Plan de Desarrollo ‚Äî juntos, post-terreno",
    actions:[
      "Nexos elabora diagn√≥stico bas√°ndose en autoevaluaci√≥n + observaciones de terreno",
      "Nexos elabora plan de desarrollo junto con el diagn√≥stico",
      "Nexos puede calibrar/modificar respuestas de autoevaluaci√≥n",
      "Nexos sube documentos a plataforma",
      "Nexos realiza reuni√≥n de entrega a la empresa",
      "Nexos marca etapa como 'Realizada'",
      "Plan incluye: notas, est√°ndar, verificadores, comentarios, estado, nota provisional"
    ],
    crm:["Diagn√≥stico entregado","Plan creado","Fecha reuni√≥n","Notas calibraci√≥n"],
    link:"M√≥dulo Empresa ('CLARA') ‚Üí Diagn√≥stico y Plan + M√≥dulo 'NORMAN' (verificaci√≥n documental)", status:"en",
    designNote:"Diagn√≥stico y plan van JUNTOS. El diagn√≥stico informa el plan. Separados del terreno."
  },
  {
    id:"seguimientos", label:"Seguimientos", icon:"üìä", color:"#B7E4C7", light:"#D8F3DC",
    description:"Reuniones individuales (m√≠n. 3, flexible) ‚Äî registros separados",
    actions:[
      "Nexos realiza reuniones seg√∫n programaci√≥n",
      "Cada seguimiento es un REGISTRO SEPARADO con: fecha, participantes, comentarios, acuerdos, estado criterios, nota provisional",
      "Nexos marca cada seguimiento como 'Realizado'",
      "Empresa puede ver comentarios y responder",
      "Empresa puede subir verificadores durante esta etapa",
      "CChC monitorea avance en dashboard",
      "Alertas autom√°ticas si empresa estancada"
    ],
    crm:["# seguimientos","√öltimo seguimiento","Nota actual","Tendencia avance","Alertas"],
    link:"M√≥dulo Empresa ('CLARA') ‚Üí Lista de seguimientos clickeables con detalle individual", status:"en",
    integration:"üìß Mail recordatorio + üìä Dashboard avance + üîî Alertas autom√°ticas",
    designNote:"Cada seguimiento es un registro independiente (no una sola etapa). Pueden ser m√°s de 3. Campos por seguimiento: fecha, participantes, comentarios, acuerdos, estado criterios, nota."
  },
  {
    id:"evaluacion", label:"Evaluaci√≥n Final", icon:"‚≠ê", color:"#52B788", light:"#95D5B2",
    description:"Evaluaci√≥n final + comparativa con diagn√≥stico",
    actions:[
      "Verificar que empresa haya subido todos los verificadores",
      "Nexos responde evaluaci√≥n final en plataforma (mismo formato autoevaluaci√≥n)",
      "Plataforma genera comparativa autom√°tica: Diagn√≥stico vs Evaluaci√≥n Final por criterio",
      "Resultado con apertura por pilares y nota final (ej: 4.2 estrellas)",
      "CChC aprueba o solicita ajustes",
      "Verificaci√≥n documental y en terreno v√≠a M√≥dulo 'NORMAN'"
    ],
    crm:["Verificadores completos","Nota final","Comparativa D vs EF","Estado aprobaci√≥n"],
    link:"M√≥dulo Empresa ('CLARA') ‚Üí Evaluaci√≥n + Comparativa + M√≥dulo 'NORMAN' (aprobaci√≥n verificadores)", status:"en"
  },
  {
    id:"cierre", label:"Hoja de Ruta + Reconocimiento", icon:"üèÜ", color:"#1B4332", light:"#40916C",
    description:"Cierre del proceso y entrega de certificaci√≥n",
    actions:[
      "Nexos carga Hoja de Ruta en perfil de empresa",
      "Bitbang coordina reuni√≥n viendo agendas de Nexos Y CChC",
      "CChC participa en reuni√≥n de entrega de resultados",
      "Se entrega reconocimiento Sello PRO",
      "Nexos marca etapa final como 'Realizada'",
      "CRM: empresa pasa a 'Certificada' ‚Üí pool de renovaciones",
      "Se inicia ciclo de vida: Auditor√≠as anuales + Renovaci√≥n cada 2 a√±os"
    ],
    crm:["Fecha reconocimiento","Nivel alcanzado","Nota final","Pr√≥xima renovaci√≥n","Estado certificaci√≥n"],
    link:"M√≥dulo Empresa ('CLARA') ‚Üí Timeline completo + Reportes finales. CRM ‚Üí 'Empresas certificadas'", status:"en",
    integration:"üìÖ Coordinaci√≥n multi-agenda (CChC + Nexos + Empresa) + üìß Mail de cierre"
  }
];

let selectedId = null;

function buildTimeline() {
  const tl = document.getElementById('timeline');
  tl.innerHTML = '';
  phases.forEach(p => {
    const el = document.createElement('div');
    el.className = 'phase-dot' + (selectedId === p.id ? ' selected' : '');
    el.onclick = () => { selectedId = selectedId === p.id ? null : p.id; buildTimeline(); renderDetail(); };
    const bg = selectedId === p.id ? p.color : p.light;
    const shadow = selectedId === p.id ? 'box-shadow:0 0 0 4px '+p.light+';' : '';
    el.innerHTML = `
      <div class="dot-circle" style="background:${bg};border-color:${p.color};${shadow}">${p.icon}</div>
      <div class="dot-label" style="color:${p.color};">${p.label}</div>
      <div class="dot-status ${p.status}">${p.status==='pre'?'Pre-plataforma':'En plataforma'}</div>
    `;
    tl.appendChild(el);
  });
}

function renderDetail() {
  const c = document.getElementById('detail-container');
  if (!selectedId) { c.innerHTML = '<div class="empty-hint">‚òùÔ∏è Haz clic en una etapa del timeline para ver el detalle</div>'; return; }
  const p = phases.find(x => x.id === selectedId);
  let acts = p.actions.map(a => {
    const isWarning = a.startsWith('‚ö†Ô∏è');
    return `<div class="action-item" style="${isWarning?'color:#E65100;font-weight:500;':''}"><span class="action-bullet" style="color:${p.color}">‚óè</span>${a}</div>`;
  }).join('');
  let intHtml = p.integration ? `<div class="integration-note">${p.integration}</div>` : '';
  let designHtml = p.designNote ? `<div class="design-note">üí° ${p.designNote}</div>` : '';
  let adminHtml = '';
  if (p.adminDocs) {
    adminHtml = '<div class="admin-grid">' + p.adminDocs.map(d => `<div class="admin-card"><div class="doc-title">${d.title}</div><div class="doc-fields">${d.fields}</div></div>`).join('') + '</div>';
  }
  let tags = p.crm.map(c => `<span class="crm-tag" style="background:${p.light};color:${p.color};">${c}</span>`).join('');
  c.innerHTML = `
    <div class="detail-panel" style="border-color:${p.color};">
      <div class="detail-header" style="background:${p.color};"><span class="icon">${p.icon}</span><div><h2>${p.label}</h2><p>${p.description}</p></div></div>
      <div class="detail-grid">
        <div class="detail-left">
          <div class="detail-section-title" style="color:${p.color};">üë§ Acciones del Coordinador CChC</div>
          ${acts}${intHtml}${designHtml}${adminHtml}
        </div>
        <div class="detail-right">
          <div class="detail-section-title" style="color:${p.color};">üíæ Campos CRM</div>
          <div class="crm-tags">${tags}</div>
          <div class="detail-section-title" style="color:${p.color};">üîó Conexi√≥n con Plataforma</div>
          <div class="platform-link">${p.link}</div>
        </div>
      </div>
    </div>`;
}

function buildCRM() {
  const views = [
    { icon:"üìà", label:"Pipeline Comercial", desc:"Vista Kanban del funnel de ventas", cols:["Lead Nuevo","Contactado","Propuesta Enviada","Negociando","Cerrado Ganado","Cerrado Perdido"] },
    { icon:"üìë", label:"Gesti√≥n Administrativa", desc:"Estado de documentos por empresa", cols:["Empresa","Contrato","OC","Factura","Pago","D√≠as pendiente","Alerta"] },
    { icon:"üè¢", label:"Cartera Activa", desc:"Empresas en proceso de certificaci√≥n", cols:["Empresa","Asesor","Etapa","% Avance","Pr√≥xima Acci√≥n","Alerta","D√≠as en etapa"] },
    { icon:"üîî", label:"Alertas", desc:"Empresas con atrasos ‚Äî visible para Bitbang", cols:["Empresa","Etapa Bloqueada","D√≠as Atraso","Motivo","Acci√≥n Requerida","Responsable"] },
    { icon:"üìä", label:"Reportes / KPIs", desc:"M√©tricas del programa", cols:["Empresas activas","Tasa conversi√≥n","Tiempo promedio","Distribuci√≥n por etapa","Por asesor","Ingresos"] },
    { icon:"üîÑ", label:"Pool Renovaciones", desc:"Empresas certificadas por renovar", cols:["Empresa","Fecha certificaci√≥n","Pr√≥xima auditor√≠a","Fecha vencimiento","Estado renovaci√≥n"] }
  ];
  document.getElementById('crm-grid').innerHTML = views.map(v => `
    <div class="crm-card"><div class="crm-card-head"><span class="ic">${v.icon}</span><div><h3>${v.label}</h3><p>${v.desc}</p></div></div>
    <div class="crm-col-tags">${v.cols.map(c=>`<span class="crm-col-tag">${c}</span>`).join('')}</div></div>`).join('');

  const flowData = [
    {l:"Lead CRM",bg:"#FFF3E0",c:"#E65100",b:"#FFCC80"},
    {l:"Gesti√≥n Admin.",bg:"#FFFDE7",c:"#F57F17",b:"#FFE082"},
    {l:"Onboarding",bg:"#E8F5E9",c:"#2D6A4F",b:"#A5D6A7"},
    {l:"Proceso Plataforma",bg:"#1B4332",c:"white",b:"#1B4332"},
    {l:"Monitoreo CRM",bg:"#E3F2FD",c:"#1565C0",b:"#90CAF9"},
    {l:"Cierre ‚Üí Renovaci√≥n",bg:"#F3E5F5",c:"#7B1FA2",b:"#CE93D8"}
  ];
  document.getElementById('flow-steps').innerHTML = flowData.map((s,i) => {
    let arrow = i < flowData.length-1 ? '<span class="flow-arrow">‚Üí</span>' : '';
    return `<span class="flow-step" style="background:${s.bg};color:${s.c};border-color:${s.b};">${s.l}</span>${arrow}`;
  }).join('');
}

function buildIntegration() {
  const crmItems = ["Pipeline comercial","Gesti√≥n de leads","Gesti√≥n administrativa (Contrato-OC-Factura-Pago)","Asignaci√≥n de asesores","Dashboard general","Alertas y seguimiento","Reportes del programa","Gesti√≥n de perfiles","Carga de cuestionarios (12 tipos)","Carga de documentos base","Facturaci√≥n","Pool de renovaciones"];
  document.getElementById('crm-items').innerHTML = crmItems.map(i=>`<div class="mod-item"><span style="color:#E65100;">‚ñ∏</span>${i}</div>`).join('');

  const clara = [
    {t:"Home",d:"Bienvenida (1¬™ vez) / Dashboard gesti√≥n"},
    {t:"Autoevaluaci√≥n",d:"Formulario estrellas + verificaci√≥n + metodolog√≠a nota"},
    {t:"Visitas Terreno",d:"Registro, fotos, documentos (ETAPA SEPARADA)"},
    {t:"Diagn√≥stico + Plan",d:"Notas, est√°ndar, verificadores, comentarios, estado (POST-TERRENO)"},
    {t:"Seguimientos",d:"Registros individuales: fecha, participantes, acuerdos, estado"},
    {t:"Evaluaci√≥n Final",d:"Cuestionario + verificadores + comparativa"},
    {t:"Hoja de Ruta",d:"Carga por asesor"},
    {t:"Pre-verificaci√≥n",d:"Con consultor externo"},
    {t:"Herramientas",d:"Por pilares, descargables"},
    {t:"Reportes",d:"Dashboards, avance, tiempo, costo"}
  ];
  document.getElementById('clara-grid').innerHTML = clara.map(m=>`<div class="clara-card"><div class="title">${m.t}</div><div class="desc">${m.d}</div></div>`).join('');

  const norman = ["Verificar medios vs est√°ndar","Revisi√≥n documental","Revisi√≥n en terreno","Aprobaci√≥n/rechazo verificadores","Resultados comparativos","Pre-verificaci√≥n (consultor externo)"];
  document.getElementById('norman-items').innerHTML = norman.map(i=>`<div class="mod-item"><span style="color:#1976D2;">‚ñ∏</span>${i}</div>`).join('');

  const ints = [
    {icon:"üìß",t:"Email (Outlook/Gmail)",d:"Citas autom√°ticas, recordatorios, notificaciones de etapas completadas"},
    {icon:"üìÖ",t:"Agenda Compartida",d:"Bitbang ve agendas de Nexos y CChC para coordinar reuniones"},
    {icon:"üîî",t:"Notificaciones",d:"Atrasos, etapas pendientes, verificadores faltantes, comentarios nuevos"},
    {icon:"üìä",t:"Dashboard Tiempo Real",d:"Avance por criterio/estrella, comparativa diagn√≥stico vs actual"},
    {icon:"üîê",t:"Perfiles y Permisos",d:"CChC (admin), Bitbang (operativo), Asesores (gesti√≥n), Empresas (operaci√≥n)"},
    {icon:"üìÑ",t:"Gesti√≥n Documental",d:"12 tipos cuestionarios, Manual Sello PRO, Manual verificadores, Herramientas"},
    {icon:"üîó",t:"API REST + Webhooks",d:"Endpoints read-only para proyectos internos CChC (dashboards, benchmarking). Auth por API key. Doc OpenAPI/Swagger"},
    {icon:"üíæ",t:"Migraci√≥n Datos",d:"+350 empresas hist√≥ricas a migrar desde hojas de c√°lculo"}
  ];
  document.getElementById('int-grid').innerHTML = ints.map(i=>`<div class="int-card"><div class="ic">${i.icon}</div><div class="ttl">${i.t}</div><div class="dsc">${i.d}</div></div>`).join('');
}

function buildLifecycle() {
  const states = [
    {emoji:"‚è≥",name:"EN PROCESO",desc:"Empresa en certificaci√≥n (~10 meses)",bg:"#E3F2FD",color:"#1565C0",border:"#90CAF9"},
    {emoji:"‚úÖ",name:"LOGRADO",desc:"Certificada. Auditor√≠as anuales.",bg:"#E8F5E9",color:"#2E7D32",border:"#A5D6A7"},
    {emoji:"üîÑ",name:"RENOVACI√ìN",desc:"En proceso de renovar (cada 2 a√±os, 4-7 meses)",bg:"#FFF3E0",color:"#E65100",border:"#FFCC80"},
    {emoji:"‚ùå",name:"NO LOGRADO",desc:"No complet√≥ proceso o no renov√≥ a tiempo",bg:"#FDECEA",color:"#C62828",border:"#EF9A9A"}
  ];
  document.getElementById('state-cards').innerHTML = states.map(s => `
    <div class="state-card" style="background:${s.bg};border-color:${s.border};">
      <div class="emoji">${s.emoji}</div>
      <div class="name" style="color:${s.color};">${s.name}</div>
      <div class="desc" style="color:${s.color};">${s.desc}</div>
    </div>`).join('');

  const tlSteps = [
    {l:"Implementaci√≥n (~10m)",bg:"#E3F2FD",c:"#1565C0",b:"#90CAF9"},
    {l:"Verificaci√≥n 0",bg:"#E8F5E9",c:"#2E7D32",b:"#A5D6A7"},
    {l:"‚≠ê SELLO",bg:"#1B4332",c:"white",b:"#1B4332"},
    {l:"Auditor√≠a A√±o 1",bg:"#F0FFF4",c:"#2D6A4F",b:"#B7E4C7"},
    {l:"Auditor√≠a A√±o 2",bg:"#F0FFF4",c:"#2D6A4F",b:"#B7E4C7"},
    {l:"¬øRenovar?",bg:"#FFF3E0",c:"#E65100",b:"#FFCC80"},
    {l:"Renovaci√≥n (4-7m)",bg:"#FFF3E0",c:"#E65100",b:"#FFCC80"},
    {l:"‚≠ê SELLO renovado",bg:"#1B4332",c:"white",b:"#1B4332"},
    {l:"Auditor√≠a A√±o 3",bg:"#F0FFF4",c:"#2D6A4F",b:"#B7E4C7"},
    {l:"...",bg:"#F5F5F5",c:"#718096",b:"#E0E0E0"}
  ];
  document.getElementById('lifecycle-tl').innerHTML = tlSteps.map((s,i) => {
    let arrow = i < tlSteps.length-1 ? '<span class="flow-arrow">‚Üí</span>' : '';
    return `<span class="lt-step" style="background:${s.bg};color:${s.c};border-color:${s.b};">${s.l}</span>${arrow}`;
  }).join('');

  const stateFlow = [
    {l:"Lead",bg:"#FFF3E0",c:"#E65100",b:"#FFCC80"},
    {l:"Admin",bg:"#FFFDE7",c:"#F57F17",b:"#FFE082"},
    {l:"EN PROCESO",bg:"#E3F2FD",c:"#1565C0",b:"#90CAF9"},
    {l:"LOGRADO ‚≠ê",bg:"#E8F5E9",c:"#2E7D32",b:"#A5D6A7"},
    {l:"Auditor√≠as",bg:"#F0FFF4",c:"#2D6A4F",b:"#B7E4C7"},
    {l:"Vence",bg:"#FFF3E0",c:"#E65100",b:"#FFCC80"},
    {l:"RENOVACI√ìN",bg:"#FFF3E0",c:"#E65100",b:"#FFCC80"},
    {l:"LOGRADO ‚≠ê",bg:"#E8F5E9",c:"#2E7D32",b:"#A5D6A7"}
  ];
  document.getElementById('state-flow').innerHTML = stateFlow.map((s,i) => {
    let arrow = i < stateFlow.length-1 ? '<span class="flow-arrow">‚Üí</span>' : '';
    return `<span class="lt-step" style="background:${s.bg};color:${s.c};border-color:${s.b};">${s.l}</span>${arrow}`;
  }).join('');
}

// Tab switching
document.querySelectorAll('.tab-btn').forEach(btn => {
  btn.addEventListener('click', function() {
    const tabId = this.dataset.tab;
    document.querySelectorAll('.tab-panel').forEach(p => p.classList.remove('active'));
    document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
    document.getElementById('tab-' + tabId).classList.add('active');
    this.classList.add('active');
  });
});

buildTimeline();
buildCRM();
buildIntegration();
buildLifecycle();
</script>
</body>
</html>
